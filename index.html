<!DOCTYPE html>
<html lang="sv">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Selmas Böcker</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 700px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }

        h1 {
            color: #2c3e50;
            text-align: center;
        }

        .add-book {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .add-book input {
            flex: 1;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 16px;
        }

        .add-book button {
            padding: 10px 20px;
            background-color: #3498db;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
        }

        .add-book button:hover {
            background-color: #2980b9;
        }

        .stats {
            display: flex;
            justify-content: space-around;
            margin: 20px 0;
            padding: 15px;
            background-color: white;
            border-radius: 4px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .stat-item {
            display: flex;
            gap: 5px;
            align-items: center;
            padding: 5px 10px;
            border-radius: 4px;
        }

        .stat-item[data-status="unread"] {
            background-color: #f1c40f20;
        }

        .stat-item[data-status="reading"] {
            background-color: #2ecc7120;
        }

        .stat-item[data-status="completed"] {
            background-color: #3498db20;
        }

        .stat-value {
            font-weight: bold;
            font-size: 1.2em;
        }

        .book-list {
            list-style: none;
            padding: 0;
        }

        .book-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 15px;
            background-color: white;
            border-radius: 4px;
            margin-bottom: 10px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .book-title {
            flex: 1;
        }

        .book-status {
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 14px;
            cursor: pointer;
            border: none;
            background-color: #eee;
        }

        .book-status[data-status="unread"] {
            background-color: #f1c40f;
            color: #000;
        }

        .book-status[data-status="reading"] {
            background-color: #2ecc71;
            color: white;
        }

        .book-status[data-status="completed"] {
            background-color: #3498db;
            color: white;
        }
    </style>
</head>
<body>
    <h1>Selmas Böcker</h1>
    
    <div class="add-book">
        <input type="text" id="bookInput" placeholder="Lägg till en ny bok...">
        <button onclick="addBook()">Lägg till</button>
    </div>

    <div class="stats">
        <span class="stat-item" data-status="unread">
            <span class="stat-label">Olästa:</span>
            <span class="stat-value" id="unreadCount">0</span>
        </span>
        <span class="stat-item" data-status="reading">
            <span class="stat-label">Läser:</span>
            <span class="stat-value" id="readingCount">0</span>
        </span>
        <span class="stat-item" data-status="completed">
            <span class="stat-label">Lästa:</span>
            <span class="stat-value" id="completedCount">0</span>
        </span>
    </div>

    <ul class="book-list" id="bookList"></ul>

    <script>
        // Hämta böcker från localStorage eller skapa en tom array
        let books = JSON.parse(localStorage.getItem('books')) || [];

        // Uppdatera statistik
        function updateStats() {
            const stats = books.reduce((acc, book) => {
                acc[book.status]++;
                return acc;
            }, {
                unread: 0,
                reading: 0,
                completed: 0
            });

            document.getElementById('unreadCount').textContent = stats.unread;
            document.getElementById('readingCount').textContent = stats.reading;
            document.getElementById('completedCount').textContent = stats.completed;
        }

        // Rendera boklistan
        function renderBooks() {
            const bookList = document.getElementById('bookList');
            bookList.innerHTML = '';
            
            books.forEach((book, index) => {
                const li = document.createElement('li');
                li.className = 'book-item';
                
                const title = document.createElement('span');
                title.className = 'book-title';
                title.textContent = book.title;
                
                const statusButton = document.createElement('button');
                statusButton.className = 'book-status';
                statusButton.setAttribute('data-status', book.status);
                statusButton.textContent = getStatusText(book.status);
                statusButton.onclick = () => toggleStatus(index);
                
                li.appendChild(title);
                li.appendChild(statusButton);
                bookList.appendChild(li);
            });
            
            // Spara till localStorage och uppdatera statistik
            localStorage.setItem('books', JSON.stringify(books));
            updateStats();
        }

        // Lägg till en ny bok
        function addBook() {
            const input = document.getElementById('bookInput');
            const title = input.value.trim();
            
            if (title) {
                books.push({
                    title: title,
                    status: 'unread'
                });
                input.value = '';
                renderBooks();
            }
        }

        // Växla status på en bok
        function toggleStatus(index) {
            const statusOrder = ['unread', 'reading', 'completed'];
            const currentStatus = books[index].status;
            const currentIndex = statusOrder.indexOf(currentStatus);
            const nextIndex = (currentIndex + 1) % statusOrder.length;
            
            books[index].status = statusOrder[nextIndex];
            renderBooks();
        }

        // Få text för status
        function getStatusText(status) {
            const statusTexts = {
                'unread': 'Oläst',
                'reading': 'Läser',
                'completed': 'Klar'
            };
            return statusTexts[status];
        }

        // Lägg till bok när man trycker Enter
        document.getElementById('bookInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                addBook();
            }
        });

        // Initial rendering
        renderBooks();
    </script>
</body>
</html>
